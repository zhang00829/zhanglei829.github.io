<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>事件 | VuePress Blog Example</title>
    <meta name="description" content="This is a blog example built by VuePress">
    
    
    <link rel="preload" href="/assets/css/0.styles.85394cdf.css" as="style"><link rel="preload" href="/assets/js/app.a358df8c.js" as="script"><link rel="preload" href="/assets/js/2.d969e6ae.js" as="script"><link rel="preload" href="/assets/js/4.d4c41443.js" as="script"><link rel="preload" href="/assets/js/14.4a2007b0.js" as="script"><link rel="prefetch" href="/assets/js/10.56ab9614.js"><link rel="prefetch" href="/assets/js/11.41855c9c.js"><link rel="prefetch" href="/assets/js/12.020b805a.js"><link rel="prefetch" href="/assets/js/13.c67d725a.js"><link rel="prefetch" href="/assets/js/15.8fb7ab72.js"><link rel="prefetch" href="/assets/js/16.2bef0757.js"><link rel="prefetch" href="/assets/js/17.614c2268.js"><link rel="prefetch" href="/assets/js/18.64f78084.js"><link rel="prefetch" href="/assets/js/19.ecde4dbc.js"><link rel="prefetch" href="/assets/js/20.2fdaeb0f.js"><link rel="prefetch" href="/assets/js/21.4e811c1f.js"><link rel="prefetch" href="/assets/js/22.dfb2ae68.js"><link rel="prefetch" href="/assets/js/23.1c9280ea.js"><link rel="prefetch" href="/assets/js/24.ca06ef93.js"><link rel="prefetch" href="/assets/js/25.4d7e055f.js"><link rel="prefetch" href="/assets/js/26.3f57e9f9.js"><link rel="prefetch" href="/assets/js/3.5ae9f982.js"><link rel="prefetch" href="/assets/js/5.a8abdada.js"><link rel="prefetch" href="/assets/js/6.4399d94b.js"><link rel="prefetch" href="/assets/js/7.97183ddb.js"><link rel="prefetch" href="/assets/js/8.49e95627.js"><link rel="prefetch" href="/assets/js/9.3b34f013.js">
    <link rel="stylesheet" href="/assets/css/0.styles.85394cdf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuperess-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/" class="nav-link home-link">VuePress Blog Example
        </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/tag/" class="nav-link">Tags</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></header> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/" class="nav-link mobile-home-link">VuePress Blog Example
      </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/tag/" class="nav-link">Tags</a></li></ul></div></div></div></section> <div class="content-wrapper"><div id="vuperess-theme-blog__post-layout"><div class="vuepress-blog-theme-content content__default"><h1 id="事件"><a href="#事件" aria-hidden="true" class="header-anchor">#</a> 事件</h1> <p>js与html之间的交互是通过事件来实现的。可以向DOM元素添加监听器来监听事件，这种设计模式就是观察者模式,实现了js与html/css之间的松耦合，下一篇将会介绍js中观察者模式的运用。</p> <h2 id="事件流"><a href="#事件流" aria-hidden="true" class="header-anchor">#</a> 事件流</h2> <p>事件流，就是DOM树中的一个节点接受事件的顺序
事件流分为2个阶段，事件捕捉阶段，事件冒泡阶段，</p> <h3 id="事件冒泡"><a href="#事件冒泡" aria-hidden="true" class="header-anchor">#</a> 事件冒泡</h3> <p>为什么先说事件冒泡呢，因为冒泡更为常用。
冒泡是个很形象的形容，就像水中的气泡，从水底慢慢往上升。事件的冒泡也是如此，最先感知到事件触发的是最内侧的DOM元素，然后一层层的往父元素、父元素的父元素...传递。
<img src="http://ptac13hln.bkt.clouddn.com/maopao.jpg" alt=""></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Event Bubbling Example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>myDiv<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Click Me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>如果你点击了div元素，那么就会触发一个事件。</p> <p>触发事件、和事件监听是两回事，可以光有事件触发，而没有事件监听。上面的代码中，鼠标点击就会触发一个事件，这个事件会以冒泡的形式向上传递，传递的过程中，如果某个DOM元素有监听器，则会触发监听器的回调函数，监听器可以阻止事件继续冒泡，若没有阻止冒泡，则事件一直会向上冒泡，直到document对象</p> <p>现代的浏览器都支持事件冒泡。</p> <h3 id="事件捕捉"><a href="#事件捕捉" aria-hidden="true" class="header-anchor">#</a> 事件捕捉</h3> <p>事件捕捉正好与事件冒泡相反。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Event Bubbling Example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>myDiv<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Click Me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>上面的代码，如果点击了div元素，则事件沿着DOM树从上到下传播，直到目标元素div。</p> <p><img src="http://ptac13hln.bkt.clouddn.com/1560864286654.jpg" alt=""></p> <p>由于老版本的浏览器不支持事件捕捉，所以推荐使用事件冒泡，以兼容更多的浏览器</p> <h3 id="dom事件流"><a href="#dom事件流" aria-hidden="true" class="header-anchor">#</a> DOM事件流</h3> <p>上面的事件冒泡和事件捕捉，分别是IE和Netscape（网景）公司单独开发的一套系统，存在很大的差异。后来‘DOM2级事件’标准出来后，统一了事件流的标准。</p> <p>“DOM2级事件”规定的事件流包括三个阶段:事件捕获阶段、处于目标阶段和事件冒泡阶段。</p> <p><img src="http://ptac13hln.bkt.clouddn.com/1560864298483.jpg" alt=""></p> <p>首先发生的是事件捕获，为截获事件提供了机会。然后是实际的目标接收到事件。最后一个阶段是冒泡阶段。</p> <p>“DOM2 级事件”规范明确要求捕 获阶段不会涉及事件目标，但 IE9、Safari、Chrome、Firefox 和 Opera 9.5 及更高版本都会在捕获阶段触 发事件对象上的事件。结果，就是有两个机会在目标对象上面操作事件。</p> <h2 id="事件处理程序"><a href="#事件处理程序" aria-hidden="true" class="header-anchor">#</a> 事件处理程序</h2> <p>事件就是用户或浏览器自身执行的某种动作。诸如 click、load 和 mouseover，都是事件的名字。 而响应某个事件的函数就叫做事件处理程序(或事件侦听器)。事件处理程序的名字以&quot;on&quot;开头，因此 click 事件的事件处理程序就是 onclick，load 事件的事件处理程序就是 onload。未事件添加处理程序有一下几种方式：</p> <h3 id="html事件处理程序"><a href="#html事件处理程序" aria-hidden="true" class="header-anchor">#</a> HTML事件处理程序</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Click Me<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>alert('Clicked')<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>可以在html中内嵌事件处理程序。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">function</span> <span class="token function">showMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Hello world!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Click Me<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>showMessage()<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>也可以使用外置的事件处理程序。内嵌的方式湿的html和js耦合在一起，推荐使用外置的方式。</p> <h3 id="dom0级事件处理程序"><a href="#dom0级事件处理程序" aria-hidden="true" class="header-anchor">#</a> DOM0级事件处理程序</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Clicked&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>DOM0级事件处理程序，就是用js的document.getElementById(&quot;myBtn&quot;)获取dom节点，然后在向这个dom节点添加事件处理程序。</p> <p>如果想删除这个dom节点上的事件处理程序，只需要将dom节点的事件处理程序设置为null即可。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span>onclick <span class="token operator">=</span> <span class="token keyword">null</span>
</code></pre></div><h3 id="dom2-级事件处理程序"><a href="#dom2-级事件处理程序" aria-hidden="true" class="header-anchor">#</a> DOM2 级事件处理程序</h3> <p>“DOM2 级事件”定义了两个方法，用于处理指定和删除事件处理程序的操:addEventListener() 和 removeEventListener()。</p> <p>所有 DOM 节点中都包含这两个方法，并且它们都接受 3 个参数:要处理的事件名、作为事件处理程序的函数和一个布尔值。最后这个布尔值参数如果是 true，表示在捕获 阶段调用事件处理程序;如果是 false，表示在冒泡阶段调用事件处理程序。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'myBtn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面的代码为一个按钮添加了 onclick 事件处理程序，而且该事件会在冒泡阶段被触发(因为最 后一个参数是 false)</p> <p>使用 DOM2 级方法添加事件处理程序的主要好处是可以添加多个事件处理程序</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Hello world!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>通过 addEventListener()添加的事件处理程序只能使用 removeEventListener()来移除;移 除时传入的参数与添加处理程序时使用的参数相同。这也意味着通过 addEventListener()添加的匿 名函数将无法移除，如下面的例子所示:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
  <span class="token comment">//没有用! alert(this.id);</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>虽然调用 remove- EventListener()时看似使用了相同的参数，但实际上，第二个参数与传入 addEventListener()中 的那一个是完全不同的函数。</p> <p>而传入 removeEventListener()中的事件处理程序函数必须与传入 addEventListener()中的相同，如下面的例子所示。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> <span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> handler<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> handler<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//有效!</span>
</code></pre></div><h3 id="ie事件处理程序"><a href="#ie事件处理程序" aria-hidden="true" class="header-anchor">#</a> IE事件处理程序</h3> <p>IE 实现了与 DOM 中类似的两个方法:attachEvent()和 detachEvent()。这两个方法接受相同 的两个参数:事件处理程序名称与事件处理程序函数。由于 IE8 及更早版本只支持事件冒泡，所以通过 attachEvent()添加的事件处理程序都会被添加到冒泡阶段</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">&quot;onclick&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Clicked&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>将保存在变量 handler 中的函数作为事件处理程序。后面的 detachEvent()可以使用相同的函数来移除事件处理程序。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Clicked&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">&quot;onclick&quot;</span><span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function">detachEvent</span><span class="token punctuation">(</span><span class="token string">&quot;onclick&quot;</span><span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="事件对象"><a href="#事件对象" aria-hidden="true" class="header-anchor">#</a> 事件对象</h2> <p>在触发DOM上的某个事件时，就会产生一个事件对象event，这个event对象包含着所有与这个事件有关的信息。包括导致事件的元素、事件的类型、等等。</p> <p>例如，鼠标导致的事件对象中，包含着鼠标的位置信息，键盘事件，则会包含按下的键有关的信息。</p> <h3 id="dom中的事件对象"><a href="#dom中的事件对象" aria-hidden="true" class="header-anchor">#</a> DOM中的事件对象</h3> <p>通用的事件对象成员：</p> <div class="language- extra-class"><pre class="language-text"><code>bubbles：表明事件是否冒泡
cancelable：表明是否可以取消事件的默认行为
currentTarget：这个事件处理程序，当前正在处理事件的那个元素
defaultPrevented：为true时，表明已经调用了preventDefault() DOM3级事件新增
detail：与事件相关的细节信息
eventPhase：调用事件处理程序的阶段：1表示捕捉阶段，2表示‘处于目标’，3表示冒泡阶段
preventDefault() : 取消事件的默认行为。如果canclable为true，则可以是此方法
stopImmediatePropagation():取消事件的进一步捕获或者冒泡，同时阻止任何事件处理程序被调用（DOM3新增）
stopPropagation()：取消事件进一步捕获或冒泡，如果bubbles为true，则可以使用此方法
target：事件的目标，就是上面html中的div,真正触发事件的元素，与currentTraget有别
trusted：为true时，表明事件是由浏览器生成的，为false，表明是由开发人员，通过js创建的（DOM3新增）
type：被触发事件的类型
view：与事件相关的抽象试图。等同于发生事件的window对象
</code></pre></div><h3 id="ie中的事件对象"><a href="#ie中的事件对象" aria-hidden="true" class="header-anchor">#</a> IE中的事件对象</h3> <p>奇葩的IE，就不提了，有兴趣的、有需要的自行百度</p> <h2 id="事件类型"><a href="#事件类型" aria-hidden="true" class="header-anchor">#</a> 事件类型</h2> <ul><li><code>UI事件</code>，当用户与页面上的元素交互时触发；</li> <li><code>焦点事件</code>，当元素获取或者失去焦点时触发；</li> <li><code>鼠标事件</code>，当用户通过在页面上执行操作时触发；</li> <li><code>滚轮事件</code>，当用户使用鼠标滚轮（或者类似设备）时触发</li> <li><code>文本事件</code>，当在文档中输入文本时触发</li> <li><code>键盘事件</code>，当用户通过键盘在页面上执行操作时触发</li> <li><code>合成事件</code>，当为IME（input Method Editor，输入法）输入字符时触发</li> <li><code>变动（mutaion）事件</code>，当底层DOM结构发生变化时触发</li></ul> <h3 id="常用的ui事件"><a href="#常用的ui事件" aria-hidden="true" class="header-anchor">#</a> 常用的UI事件</h3> <ul><li><code>load</code>: 当页面完全加载后，在window上触发</li> <li><code>unload</code>: 当页面完全卸载后，在window上触发</li> <li><code>resize</code>: 当窗口或者框架大小变化时，在window上或者框架上触发</li> <li><code>scroll</code>: 当用户滚动带滚动条的元素中内容时，在改元素上触发</li></ul> <h3 id="常用焦点事件"><a href="#常用焦点事件" aria-hidden="true" class="header-anchor">#</a> 常用焦点事件</h3> <ul><li><code>blur</code>: 在元素失去焦点时触发，这个事件不会冒泡</li> <li><code>focus</code>: 在元素获得焦点时触发，这个事件不会冒泡</li> <li><code>focusout</code>:在元素失去焦点时触发，会冒泡</li> <li><code>focusin</code>: 在元素获得焦点时触发，会冒泡</li></ul> <h3 id="常用鼠标与滚轮事件"><a href="#常用鼠标与滚轮事件" aria-hidden="true" class="header-anchor">#</a> 常用鼠标与滚轮事件</h3> <ul><li><code>click</code>: 单击事件</li> <li><code>dblclick</code>: 双击事件</li> <li><code>mousedown</code>: 鼠标按下时触发</li> <li><code>mouseenter</code>: 鼠标从外部首次移入元素范围内触发，不冒泡</li> <li><code>mouseleave</code>: 在位于元素上方的鼠标光标移动到元素范围之外时触发。这个事件不冒泡，而且在光标移动到后代元素上不会触发</li> <li><code>mousemove</code>: 当鼠标指针在元素内部移动时重复地触发</li> <li><code>mouseout</code>:在鼠标指针位于一个元素上方，然后用户将其移入另一个元素时触发。又移入的另一个元素可能位于前一个元素的外部，也可能是这个元素的子元素。</li> <li><code>mouseover</code>:在鼠标指针位于一个元素外部，然后用户将其首次移入另一个元素边界之内时触发。</li> <li><code>mouseup</code>:在用户释放鼠标按钮时触发。</li></ul> <h3 id="常用的键盘与文本事件"><a href="#常用的键盘与文本事件" aria-hidden="true" class="header-anchor">#</a> 常用的键盘与文本事件</h3> <ul><li><code>keydown</code>: 当用户按下键盘上的任意键时触发。而且如果按住不放的话，会重复触发此事件</li> <li><code>keypress</code>:当用户按下键盘上的字符键时触发，而且如果按住不放的话，会重复触发此事件。</li> <li><code>keyup</code>: 当用户释放键盘上的键时触发。</li></ul> <p>虽然所有元素都支持以上 3 个事件，但只有在用户通过文本框输入文本时才最常用到。</p></div> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#事件流" title="事件流">事件流</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#事件冒泡" title="事件冒泡">事件冒泡</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#事件捕捉" title="事件捕捉">事件捕捉</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#dom事件流" title="DOM事件流">DOM事件流</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#事件处理程序" title="事件处理程序">事件处理程序</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#html事件处理程序" title="HTML事件处理程序">HTML事件处理程序</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#dom0级事件处理程序" title="DOM0级事件处理程序">DOM0级事件处理程序</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#dom2-级事件处理程序" title="DOM2 级事件处理程序">DOM2 级事件处理程序</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#ie事件处理程序" title="IE事件处理程序">IE事件处理程序</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#事件对象" title="事件对象">事件对象</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#dom中的事件对象" title="DOM中的事件对象">DOM中的事件对象</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#ie中的事件对象" title="IE中的事件对象">IE中的事件对象</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#事件类型" title="事件类型">事件类型</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#常用的ui事件" title="常用的UI事件">常用的UI事件</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#常用焦点事件" title="常用焦点事件">常用焦点事件</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#常用鼠标与滚轮事件" title="常用鼠标与滚轮事件">常用鼠标与滚轮事件</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#常用的键盘与文本事件" title="常用的键盘与文本事件">常用的键盘与文本事件</a></div></div></div></div> <footer class="footer" data-v-f3e37990><div class="footer-left-wrap" data-v-f3e37990><ul class="contact" data-v-f3e37990><li class="contact-item" data-v-f3e37990><a href="https://github.com/ulivz" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-f3e37990><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-f3e37990><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-f3e37990></path></svg>
          
        </a></li><li class="contact-item" data-v-f3e37990><a href="https://twitter.com/_ulivz" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-f3e37990><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter" data-v-f3e37990><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z" data-v-f3e37990></path></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-f3e37990><ul class="copyright" data-v-f3e37990><li class="copyright-item" data-v-f3e37990><a href="https://policies.google.com/privacy?hl=en-US" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-f3e37990>Privacy Policy</a></li><li class="copyright-item" data-v-f3e37990><a href="/2019/06/17/javascript-event/.html" class="nav-link" data-v-f3e37990>MIT Licensed | Copyright © 2018-present Vue.js</a></li></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a358df8c.js" defer></script><script src="/assets/js/2.d969e6ae.js" defer></script><script src="/assets/js/4.d4c41443.js" defer></script><script src="/assets/js/14.4a2007b0.js" defer></script>
  </body>
</html>
